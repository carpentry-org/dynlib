(load "git@github.com:carpentry-org/dynlib@0.0.1")

(defn main []
  (println*
    &(=> (DynLib.open "libt.so")
         (Maybe.to-result @"Couldn’t open libt.so")
         (Result.and-then (fn [lib] (Maybe.to-result (DynLib.get lib "inc") @"Couldn’t load symbol")))
         (Result.map (fn [f] (Int.str (f 1)))))))
